import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { BadgeComponent } from '../../index.ts';

<Meta 
  title='Components/Badge' 
  component={BadgeComponent}
  argTypes={ argTypeConfig }
  />

# Badge
Badges are inline block elements that often are used on top of or close to another component. They can be used with numbers, text and icons.
A small badge version also exists which does not support slotted content.

## Elevation on white badges
A white badge can easily blend into the background and just appear as a number, icon or not at all if no content is passed. 
Here it can be necesssary to apply some elevation to the badge; this is also done for the examples below where all the badges are displayed on a white background.

The `--kirby-badge-elevation` property can be useful for this. You can see how it is applied to the examples below by inspecting the shared styling for the badge examples:
[badge-example-shared.scss on Github](https://github.com/kirbydesign/designsystem/blob/master/apps/cookbook/src/app/examples/badge-example/examples/badge-example-shared.scss)

export const Template = (args) => ({ props: args });

## Badge with numbers
Using a badge with a number can be a good way to indicate specific status on an element.

<Canvas>
  <Story
    name='Default - number'
    args={{
        text: '1',
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Success - number'
    args={{
        text: '7',
        themeColor: 'success'
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Warning - number'
    args={{
        text: '99',
        themeColor: 'warning'
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Danger - number'
    args={{
        text: '123',
        themeColor: 'danger'
      }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Badge with text
Badges can also be used together with a text. Flags might in some cases be a better alternative.

<Canvas>
  <Story
    name='Default - text'
    args={{
        text: 'Default'
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Success - text'
    args={{
        text: 'Success',
        themeColor: 'success'
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Warning - text'
    args={{
        text: 'Warning',
        themeColor: 'warning'
      }}>
    {Template.bind({})}
  </Story>
  <Story
    name='Danger - text'
    args={{
        text: 'Danger',
        themeColor: 'danger'
      }}>
    {Template.bind({})}
  </Story>
</Canvas>

<!-- 
The PropTable story is a workaround to be able to hide the controls in the ArgsTable.
We need to hide it because when <ArgsTable /> uses one of the stories loaded into the DOM, 
and a user tries to alter the control while on the doc page, storybook will break with an error message:
"Type [ComponentName] is part of the declarations of 2 modules: StorybookModule and StorybookModule"

With this workaround, the story will show in the menu to the left, but if we dont bind to the template, 
we will not render anything else than the prop table, with default values. 

The above is a side effect of <ArgsTable of={ComponentName} /> syntax not working with custom 
args tables, so we can only generate it from a specific story: https://storybook.js.org/docs/angular/writing-docs/doc-blocks#customizing

REMEMBER TO ADD ALL PROPERTIES TO BELOW ON THE PROPTABLE STORY, FOR THEM TO SHOW UP ON THE DOCS PAGE.
-->
<Story
  name='PropTable'
  args={{
    text: 'Default',
    themeColor: 'white'
  }}
  argTypes={{
    text: { control: { disable: true } },
    themeColor: { control: { disable: true } }
  }}>
</Story>

<ArgsTable story='PropTable' />

export const argTypeConfig = {
  themeColor: {
    options: ['success', 'warning', 'danger', 'white'],
    description: 'Sets which color the badge should use from the theme palette.',
    table: {
      defaultValue: {
        summary: 'white'
      },
      type: {
        summary: 'Subset of ThemeColor',
        detail: 'success | warning | danger | white'
      },
    },
    control: 'select',
  },
  "--kirby-badge-position": {
    description: "Sets the position property of the badge.",
    table: {
        defaultValue: {
        summary: 'relative'
      },
      category: "CSS Custom Properties",
    }
  },
  el: {
    table:{
      disable: true
    }
  },
}