@import '../../scss/native-imports';

@mixin highlighted($color) {
  @if $color == 'transparent' {
    $color: unquote($color);
  } @else {
    $color: get-color($color);
  }
  
  &.highlighted {
    background-color: $color;
    border-color: $color;
  }
}

.kirby-button {

  .button-wrapper {
    background-color: get-color('primary');
    border-color: get-color('primary');
    color: get-color('primary-contrast');
    border-radius: 100;
    border-width: 1;
    
    // we default to 'md' size.
    margin: size('xxs');
    padding: size('xs') size('m') size('xs') size('m');
    font-size: font-size('s');
    height: size('xl');
    line-height: line-height('xs');
  
    @include highlighted('primary-shade');
  }

  &.sm .button-wrapper {
    padding: size('xxs') size('s') size('xxs') size('s');
    font-size: font-size('xs');
    height: size('l');
  }

  &.lg .button-wrapper {
    font-size: font-size('s');
    height: size('xxl');
  }

  &.attention-level1 {
    .button-wrapper {
      background-color: get-color('primary');
      border-color: get-color('primary');
      color: get-color('primary-contrast');
      @include highlighted('primary-shade');
    }
    
    &.destructive .button-wrapper {
      background-color: get-color('danger');
      border-color: get-color('danger');
      color: get-color('danger-contrast');
      @include highlighted('danger-shade');
    }
  }

  &.attention-level2 {
    .button-wrapper {
      background-color: get-color('white');
      border-color: get-color('white');
      color: get-color('black');
      @include highlighted('white-shade');
    }

    &.destructive .button-wrapper {
      background-color: get-color('light');
      border-color: get-color('light');
      color: get-color('danger');
      @include highlighted('light-shade');
    }
  }

  &.attention-level3 {
    .button-wrapper {
      background-color: transparent;
      border-color: get-color('medium');
      color: get-color('medium-contrast');
      @include highlighted('medium-shade');
    }
    
    &.destructive .button-wrapper {
      background-color: transparent;
      border-color: get-color('medium');
      color: get-color('danger');
      @include highlighted('medium-shade');
    }
  }

  &.attention-level4 {
    .button-wrapper {
      background-color: transparent;
      border-color: transparent;
      color: get-color('primary-contrast');
      @include highlighted('transparent');
    }

    &.destructive .button-wrapper {
      background-color: transparent;
      border-color: transparent;
      color: get-color('danger');
      @include highlighted('transparent');
    }
  }

  &[isEnabled=false] .button-wrapper {
    background-color: get-color('light-tint');
    border-color: get-color('light-tint');
    @include highlighted('light-tint');    
  }
}

.default .kirby-button.attention-level2 {
  .button-wrapper {
    background-color: get-color('light');
    border-color: get-color('light');
    color: get-color('light-contrast');
    @include highlighted('light-shade');
  }
}

.primary .kirby-button.attention-level1,
.secondary .kirby-button.attention-level1,
.tertiary .kirby-button.attention-level1,
.success .kirby-button.attention-level1,
.warning .kirby-button.attention-level1,
.danger .kirby-button.attention-level1 {
  .button-wrapper {
    background-color: get-color('white');
    border-color: get-color('white');
    color: get-color('black');
    @include highlighted('white-shade');
  }
}

.secondary .kirby-button.attention-level3,
.tertiary .kirby-button.attention-level3,
.dark .kirby-button.attention-level3 {
  .button-wrapper {
    border-color: get-color('white');
    color: get-color('white');
    @include highlighted('transparent');
  }
}

.primary .kirby-button.attention-level3,
.success .kirby-button.attention-level3,
.warning .kirby-button.attention-level3,
.danger .kirby-button.attention-level3,
.medium .kirby-button.attention-level3 {
  .button-wrapper {
    border-color: get-color('black');
    color: get-color('black');
    @include highlighted('transparent');
  }
}

.secondary .kirby-button.attention-level4,
.tertiary .kirby-button.attention-level4,
.dark .kirby-button.attention-level4 {
  .button-wrapper {
    color: get-color('white');
    @include highlighted('transparent');
  }
}
