@import '../../scss/native-imports';

@mixin highlighted($color) {
  $color: get-color($color);
  
  &:active {
    background-color: $color;
    border-color: $color;
  }
}

.kirby-button {
  .button {
    // we default to 'md' size.
    padding: size('xxs') size('m') size('xxs') size('m');
    font-size: font-size('s');
    height: size('xl');
  }
  
  &.sm {
    .button {
      padding: size('xxxs') size('s') size('xxxs') size('s');
      font-size: font-size('xs');
      height: size('l');
    }
  }

  &.lg {
    .button {
      font-size: font-size('s');
      height: size('xxl');
    }
  }
}

.button {
  background-color: get-color('primary');
  border-color: get-color('primary');
  color: get-color('primary-contrast');
  border-radius: 100;
  border-width: 1;
  margin: size('xxxs');
  android-elevation: 0;
  @include highlighted('primary-shade');
  
  * {
    // FormattedString, Span
    background-color: transparent;
  }

  &.expand-block {
    width: 100%;
  }

  &.attention-level1 {
    background-color: get-color('primary');
    border-color: get-color('primary');
    color: get-color('primary-contrast');
    @include highlighted('primary-shade');
      
    &.destructive {
      background-color: get-color('danger');
      border-color: get-color('danger');
      color: get-color('danger-contrast');
      @include highlighted('danger-shade');
    }
  }

  &.attention-level2 {
    background-color: get-color('white');
    border-color: get-color('white');
    color: get-color('black');
    @include highlighted('white-shade');

    &.destructive {
      background-color: get-color('light');
      border-color: get-color('light');
      color: get-color('danger');
      @include highlighted('light-shade');
    }
  }

  &.attention-level3 {
    background-color: transparent;
    border-color: get-color('medium');
    color: get-color('medium-contrast');

    &.destructive {
      background-color: transparent;
      border-color: get-color('medium');
      color: get-color('danger');
    }
  }

  &.attention-level4 {
    background-color: transparent;
    border-color: transparent;
    color: get-color('primary-contrast');

    &.destructive {
      background-color: transparent;
      border-color: transparent;
      color: get-color('danger');
    }
  }

  &.disabled {
    background-color: get-color('light-tint');
    border-color: get-color('light-tint');
    @include highlighted('light-tint');
  }
}

.default .button.attention-level2 {
  background-color: get-color('light');
  border-color: get-color('light');
  color: get-color('light-contrast');
  @include highlighted('light-shade');
}

.primary .button.attention-level1,
.secondary .button.attention-level1,
.tertiary .button.attention-level1,
.success .button.attention-level1,
.warning .button.attention-level1,
.danger .button.attention-level1 {
  background-color: get-color('white');
  border-color: get-color('white');
  color: get-color('black');
  @include highlighted('white-shade');
}

.secondary .button.attention-level3,
.tertiary .button.attention-level3,
.dark .button.attention-level3 {
  border-color: get-color('white');
  color: get-color('white');
}

.primary .button.attention-level3,
.success .button.attention-level3,
.warning .button.attention-level3,
.danger .button.attention-level3,
.medium .button.attention-level3 {
  border-color: get-color('black');
  color: get-color('black');
}

.secondary .button.attention-level4,
.tertiary .button.attention-level4,
.dark .button.attention-level4 {
  color: get-color('white');
}
